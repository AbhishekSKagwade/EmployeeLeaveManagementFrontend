<!-- Container -->
<div class="dashboard-container">
  <!-- Hero Section -->
  <div class="hero-section">
    <div class="hero-content">
      <div class="hero-icon">
        <i class="bi bi-person-badge"></i>
      </div>
      <h1 class="hero-title">Welcome back, {{ userName }}!</h1>
      <p class="hero-subtitle">Manage your team and oversee leave requests</p>
    </div>
  </div>

  <!-- Stats Overview -->
  <div class="stats-overview">
    <div class="stat-card">
      <div class="stat-icon" style="background: linear-gradient(135deg, #11998e, #38ef7d);">
        <i class="bi bi-people"></i>
      </div>
      <div class="stat-content">
        <h3>{{ teamMembers.length }}</h3>
        <p>Team Members</p>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
        <i class="bi bi-clock-history"></i>
      </div>
      <div class="stat-content">
        <h3>{{ pendingLeaves }}</h3>
        <p>Pending Approvals</p>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb, #f5576c);">
        <i class="bi bi-check-circle"></i>
      </div>
      <div class="stat-content">
        <h3>{{ approvedLeaves }}</h3>
        <p>Approved This Month</p>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">
        <i class="bi bi-x-circle"></i>
      </div>
      <div class="stat-content">
        <h3>{{ rejectedLeaves }}</h3>
        <p>Rejected This Month</p>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="reports-grid">
    <div class="report-card">
      <div class="report-header">
        <div class="report-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
          <i class="bi bi-check-circle"></i>
        </div>
        <div class="report-info">
          <h3 class="report-title">Approve Leaves</h3>
          <p class="report-description">Review and approve team leave requests</p>
        </div>
      </div>
      <div class="report-actions">
        <button class="btn btn-generate" routerLink="/leaves">
          <i class="bi bi-check-circle"></i>
          Review Requests
        </button>
      </div>
    </div>

    <div class="report-card">
      <div class="report-header">
        <div class="report-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
          <i class="bi bi-calendar"></i>
        </div>
        <div class="report-info">
          <h3 class="report-title">Team Calendar</h3>
          <p class="report-description">View team leave schedules and holidays</p>
        </div>
      </div>
      <div class="report-actions">
        <button class="btn btn-generate" routerLink="/calendar">
          <i class="bi bi-calendar-week"></i>
          View Calendar
        </button>
      </div>
    </div>

    <div class="report-card">
      <div class="report-header">
        <div class="report-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
          <i class="bi bi-bar-chart"></i>
        </div>
        <div class="report-info">
          <h3 class="report-title">Team Reports</h3>
          <p class="report-description">Generate attendance and leave reports</p>
        </div>
      </div>
      <div class="report-actions">
        <button class="btn btn-generate" routerLink="/reports">
          <i class="bi bi-graph-up"></i>
          View Reports
        </button>
      </div>
    </div>

    <div class="report-card">
      <div class="report-header">
        <div class="report-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
          <i class="bi bi-people"></i>
        </div>
        <div class="report-info">
          <h3 class="report-title">My Team</h3>
          <p class="report-description">View and manage team members</p>
        </div>
      </div>
      <div class="report-actions">
        <button class="btn btn-generate" routerLink="/my-team">
          <i class="bi bi-people-fill"></i>
          Manage Team
        </button>
      </div>
    </div>
  </div>

  <!-- Recent Leave Requests -->
  <div class="recent-leaves-section">
    <div class="report-card">
      <div class="report-header">
        <div class="report-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
          <i class="bi bi-clock-history"></i>
        </div>
        <div class="report-info">
          <h3 class="report-title">Recent Leave Requests</h3>
          <p class="report-description">Latest leave requests from your team</p>
        </div>
      </div>
      <div class="recent-leaves-list">
        <div *ngFor="let leave of recentLeaveRequests" class="leave-item">
          <div class="leave-info">
            <div class="leave-employee">{{ leave.employeeName }}</div>
            <div class="leave-details">{{ leave.leaveType }} â€¢ {{ getLeaveDuration(leave.startDate.toString(), leave.endDate.toString()) }} days</div>
            <div class="leave-dates">{{ leave.startDate.toString() | date:'shortDate' }} - {{ leave.endDate.toString() | date:'shortDate' }}</div>
          </div>
          <div class="leave-status">
            <span class="badge" [ngClass]="getStatusBadgeClass(leave.status)">{{ leave.status }}</span>
          </div>
          <div class="leave-actions" *ngIf="leave.status === 'Pending'">
            <button class="btn btn-sm btn-success me-1" (click)="quickApproveLeave(leave.leaveRequestId)">
              <i class="bi bi-check"></i>
            </button>
            <button class="btn btn-sm btn-danger" (click)="quickRejectLeave(leave.leaveRequestId)">
              <i class="bi bi-x"></i>
            </button>
          </div>
        </div>
        <div *ngIf="recentLeaveRequests.length === 0" class="empty-state">
          <i class="bi bi-calendar-x"></i>
          <p>No recent leave requests</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Calendar Section -->
  <div class="calendar-section">
    <div class="report-card calendar-card">
      <div class="report-header">
        <div class="report-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
          <i class="bi bi-calendar"></i>
        </div>
        <div class="report-info">
          <h3 class="report-title">Team Leave Calendar</h3>
          <p class="report-description">Overview of team leaves and company holidays</p>
        </div>
      </div>
      <div class="calendar-container">
        <full-calendar *ngIf="calendarOptions" [options]="calendarOptions"></full-calendar>
      </div>
    </div>
  </div>

  <!-- Notifications Section -->
  <div class="notifications-section">
    <div class="report-card">
      <div class="report-header">
        <div class="report-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
          <i class="bi bi-bell"></i>
        </div>
        <div class="report-info">
          <h3 class="report-title">Notifications</h3>
          <p class="report-description">Pending approvals and updates</p>
        </div>
      </div>
      <div class="notifications-list">
        <div *ngFor="let notification of notifications" class="notification-item">
          <div class="notification-icon">
            <i [ngClass]="getNotificationIcon(notification.type)"></i>
          </div>
          <div class="notification-content">
            <p>{{ notification.message }}</p>
            <small>{{ notification.date | date:'short' }}</small>
          </div>
          <div class="notification-actions" *ngIf="notification.action === 'approve'">
            <button class="btn btn-sm btn-success me-1" (click)="quickApproveLeave(notification.leaveId)">
              <i class="bi bi-check"></i>
            </button>
            <button class="btn btn-sm btn-danger" (click)="quickRejectLeave(notification.leaveId)">
              <i class="bi bi-x"></i>
            </button>
          </div>
          <button class="btn-close" (click)="dismissNotification(notification.id)">
            <i class="bi bi-x"></i>
          </button>
        </div>
        <div *ngIf="notifications.length === 0" class="empty-state">
          <i class="bi bi-bell-slash"></i>
          <p>No new notifications</p>
        </div>
      </div>
    </div>
  </div>
</div>
